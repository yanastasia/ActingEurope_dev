(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{588:(e,a,t)=>{"use strict";t.d(a,{Label:()=>o});var s=t(8081),r=t(2149),n=t(9217),i=r.forwardRef((e,a)=>(0,s.jsx)(n.sG.label,{...e,ref:a,onMouseDown:a=>{var t;a.target.closest("button, input, select, textarea")||(null===(t=e.onMouseDown)||void 0===t||t.call(e,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));i.displayName="Label";var l=t(3484),d=t(7687);let c=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(i,{ref:a,className:(0,d.cn)(c(),t),...r})});o.displayName=i.displayName},900:(e,a,t)=>{"use strict";t.d(a,{p:()=>i});var s=t(8081),r=t(2149),n=t(7687);let i=r.forwardRef((e,a)=>{let{className:t,type:r,...i}=e;return(0,s.jsx)("input",{type:r,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...i})});i.displayName="Input"},2285:(e,a,t)=>{"use strict";t.d(a,{T:()=>i});var s=t(8081),r=t(2149),n=t(7687);let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...r})});i.displayName="Textarea"},3688:(e,a,t)=>{"use strict";function s(){return"true"===localStorage.getItem("actingEurope_auth")}function r(){let e=localStorage.getItem("actingEurope_userRole");return"admin"===e||"super_admin"===e}function n(e,a){localStorage.setItem("actingEurope_auth","true"),localStorage.setItem("actingEurope_userEmail",e),localStorage.setItem("actingEurope_userRole",a),window.dispatchEvent(new Event("user-logged-in"))}function i(){localStorage.removeItem("actingEurope_auth"),localStorage.removeItem("actingEurope_userEmail"),localStorage.removeItem("actingEurope_userRole"),window.dispatchEvent(new Event("user-logged-out"))}t.d(a,{Ee:()=>n,cy:()=>i,qc:()=>r,wR:()=>s})},4604:(e,a,t)=>{"use strict";t.d(a,{Xi:()=>c,av:()=>o,j7:()=>d,tU:()=>l});var s=t(8081),r=t(2149),n=t(2044),i=t(7687);let l=n.bL,d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.B8,{ref:a,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r})});d.displayName=n.B8.displayName;let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.l9,{ref:a,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r})});c.displayName=n.l9.displayName;let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.UC,{ref:a,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r})});o.displayName=n.UC.displayName},4666:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(1018).A)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},5844:(e,a,t)=>{"use strict";t.d(a,{dj:()=>m});var s=t(2149);let r=0,n=new Map,i=e=>{if(n.has(e))return;let a=setTimeout(()=>{n.delete(e),o({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,a)},l=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?i(t):e.toasts.forEach(e=>{i(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},d=[],c={toasts:[]};function o(e){c=l(c,e),d.forEach(e=>{e(c)})}function u(e){let{...a}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>o({type:"DISMISS_TOAST",toastId:t});return o({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>o({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function m(){let[e,a]=s.useState(c);return s.useEffect(()=>(d.push(a),()=>{let e=d.indexOf(a);e>-1&&d.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>o({type:"DISMISS_TOAST",toastId:e})}}},5847:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>J});var s=t(8081),r=t(2149),n=t(9651),i=t(4604),l=t(6810),d=t(5160),c=t(900),o=t(588),u=t(2285),m=t(7687);let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{className:"relative w-full overflow-auto",children:(0,s.jsx)("table",{ref:a,className:(0,m.cn)("w-full caption-bottom text-sm",t),...r})})});h.displayName="Table";let p=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("thead",{ref:a,className:(0,m.cn)("[&_tr]:border-b",t),...r})});p.displayName="TableHeader";let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tbody",{ref:a,className:(0,m.cn)("[&_tr:last-child]:border-0",t),...r})});x.displayName="TableBody",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tfoot",{ref:a,className:(0,m.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...r})}).displayName="TableFooter";let v=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("tr",{ref:a,className:(0,m.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...r})});v.displayName="TableRow";let f=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("th",{ref:a,className:(0,m.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...r})});f.displayName="TableHead";let g=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("td",{ref:a,className:(0,m.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...r})});g.displayName="TableCell",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("caption",{ref:a,className:(0,m.cn)("mt-4 text-sm text-muted-foreground",t),...r})}).displayName="TableCaption";var j=t(5904),y=t(5990),b=t(7351),N=t(9100),w=t(4416),E=t(2853),C=t(3321),k=t(9217),T="Switch",[S,R]=(0,N.A)(T),[D,A]=S(T),F=r.forwardRef((e,a)=>{let{__scopeSwitch:t,name:n,checked:i,defaultChecked:l,required:d,disabled:c,value:o="on",onCheckedChange:u,form:m,...h}=e,[p,x]=r.useState(null),v=(0,b.s)(a,e=>x(e)),f=r.useRef(!1),g=!p||m||!!p.closest("form"),[j,N]=(0,w.i)({prop:i,defaultProp:null!=l&&l,onChange:u,caller:T});return(0,s.jsxs)(D,{scope:t,checked:j,disabled:c,children:[(0,s.jsx)(k.sG.button,{type:"button",role:"switch","aria-checked":j,"aria-required":d,"data-state":P(j),"data-disabled":c?"":void 0,disabled:c,value:o,...h,ref:v,onClick:(0,y.m)(e.onClick,e=>{N(e=>!e),g&&(f.current=e.isPropagationStopped(),f.current||e.stopPropagation())})}),g&&(0,s.jsx)(M,{control:p,bubbles:!f.current,name:n,value:o,checked:j,required:d,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});F.displayName=T;var L="SwitchThumb",I=r.forwardRef((e,a)=>{let{__scopeSwitch:t,...r}=e,n=A(L,t);return(0,s.jsx)(k.sG.span,{"data-state":P(n.checked),"data-disabled":n.disabled?"":void 0,...r,ref:a})});I.displayName=L;var M=r.forwardRef((e,a)=>{let{__scopeSwitch:t,control:n,checked:i,bubbles:l=!0,...d}=e,c=r.useRef(null),o=(0,b.s)(c,a),u=(0,E.Z)(i),m=(0,C.X)(n);return r.useEffect(()=>{let e=c.current;if(!e)return;let a=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(u!==i&&a){let t=new Event("click",{bubbles:l});a.call(e,i),e.dispatchEvent(t)}},[u,i,l]),(0,s.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...d,tabIndex:-1,ref:o,style:{...d.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function P(e){return e?"checked":"unchecked"}M.displayName="SwitchBubbleInput";let V=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(F,{className:(0,m.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:a,children:(0,s.jsx)(I,{className:(0,m.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});V.displayName=F.displayName;var _=t(1018);let q=(0,_.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),B=(0,_.A)("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var U=t(5516),Z=t(4666),z=t(8830);let O=(0,_.A)("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),W=(0,_.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var $=t(3688),X=t(5844),G=t(452),H=t(8539);function J(){var e;let a=(0,n.useRouter)(),{toast:t}=(0,X.dj)(),{t:m}=(0,G.o)(),[y,b]=(0,r.useState)(!0),[N,w]=(0,r.useState)(!1),[E,C]=(0,r.useState)(""),[k,T]=(0,r.useState)([]),[S,R]=(0,r.useState)([]),[D,A]=(0,r.useState)(null),[F,L]=(0,r.useState)(null),[I,M]=(0,r.useState)({title:"",eventType:"performance",date:"",time:"",venue:"",company:"",description:"",imageUrl:"/placeholder.svg?height=400&width=600",isFeatured:!1,price:"20.00",tags:[]}),[P,_]=(0,r.useState)({name:"",description:"",location:"",capacity:0,rowCount:1,seatsPerRow:10}),[J,K]=(0,r.useState)([{rowNumber:1,seatCount:10}]),[Y,Q]=(0,r.useState)(!1),[ee,ea]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{{let e=H.V.getInstance();ea(e),T(await e.getEvents()||[]),R(await e.getVenues()||[]);let a=async e=>{let a=e.detail;T(await a.getEvents()||[]),R(await a.getVenues()||[])};return window.addEventListener("databaseUpdated",e=>{a(e)}),()=>{window.removeEventListener("databaseUpdated",e=>{a(e)})}}})()},[]),(0,r.useEffect)(()=>{{let e=(0,$.qc)();w(e),C(localStorage.getItem("actingEurope_userEmail")||""),b(!1),e||a.push("/auth/login")}},[a]);let et=e=>{let{id:a,value:t}=e.target;D?A({...D,[a]:t}):M(e=>({...e,[a]:t}))},es=(e,a)=>{D?A({...D,[e]:a}):M(t=>({...t,[e]:a}))},er=e=>{D?A({...D,isFeatured:e}):M(a=>({...a,isFeatured:e}))},en=e=>{D?A({...D,imageUrl:"/placeholder.svg?height=400&width=600"}):M(e=>({...e,imageUrl:"/placeholder.svg?height=400&width=600"}))},ei=e=>{let a=e.target.value.split(",").map(e=>e.trim()).filter(e=>""!==e);D?A({...D,tags:a}):M(e=>({...e,tags:a}))},el=async e=>{if(e.preventDefault(),Q(!0),!I.title||!I.eventType||!I.date||!I.time||!I.venue){t({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"}),Q(!1);return}let a={id:"event-".concat(Date.now()),...I};null==ee||ee.addEvent(a),T(await H.ds.getEvents()),t({title:"Event added successfully",description:'"'.concat(I.title,'" has been added to the program')}),M({title:"",eventType:"performance",date:"",time:"",venue:"",company:"",description:"",imageUrl:"/placeholder.svg?height=400&width=600",isFeatured:!1,price:"20.00",tags:[]}),Q(!1)},ed=async e=>{if(e.preventDefault(),Q(!0),!P.name){t({title:"Missing information",description:"Please provide a venue name",variant:"destructive"}),Q(!1);return}let a={id:"venue-".concat(Date.now()),name:P.name,description:P.description,location:P.location,capacity:P.capacity,rows:J};null==ee||ee.addVenue(a),R(await (null==ee?void 0:ee.getVenues())||[]),t({title:"Venue added successfully",description:'"'.concat(P.name,'" has been added to the venues')}),_({name:"",description:"",location:"",capacity:0,rowCount:1,seatsPerRow:10}),K([{rowNumber:1,seatCount:10}]),Q(!1)},ec=e=>{let a=k.find(a=>a.id===e);if(a&&A(a),!a){t({title:"Error",description:"Event not found for editing.",variant:"destructive"});return}if(!a.title||!a.eventType||!a.date||!a.time||!a.venue){t({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}},eo=async e=>{if(e.preventDefault(),D){if(!D.title||!D.eventType||!D.date||!D.time||!D.venue){t({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}k.map(e=>e.id===D.id?D:e),null==ee||ee.updateEvent(D.id,D),T(await (null==ee?void 0:ee.getEvents())||[]),t({title:"Event updated successfully",description:'"'.concat(D.title,'" has been updated')}),A(null)}},eu=async e=>{null==ee||ee.deleteEvent(e),T(await (null==ee?void 0:ee.getEvents())||[]),t({title:"Event deleted",description:"The event has been removed from the program"})};return y?(0,s.jsx)("div",{className:"container flex min-h-[calc(100vh-4rem)] items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center",children:[(0,s.jsx)("div",{className:"h-12 w-12 animate-spin rounded-full border-4 border-primary-gold border-t-transparent"}),(0,s.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Verifying access..."})]})}):N?(0,s.jsxs)("div",{className:"container py-12",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(B,{className:"h-6 w-6 text-primary-gold"}),(0,s.jsx)("h1",{className:"text-3xl font-bold text-secondary-blue",children:"Admin Dashboard"})]}),(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-6",children:(0,s.jsx)("a",{href:"/admin/news",className:"block",children:(0,s.jsxs)(l.Zp,{className:"hover:shadow-lg transition-shadow duration-200",children:[(0,s.jsx)(l.aR,{children:(0,s.jsx)(l.ZB,{children:"Manage News Articles"})}),(0,s.jsx)(l.Wu,{children:(0,s.jsx)("p",{className:"text-gray-600",children:"Add, edit, and delete news articles."})})]})})}),(0,s.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,s.jsx)("p",{className:"text-muted-foreground",children:"Logged in as administrator:"}),(0,s.jsx)("span",{className:"font-medium text-primary-gold",children:E})]})]}),(0,s.jsxs)(i.tU,{defaultValue:"events",className:"w-full",children:[(0,s.jsxs)(i.j7,{className:"grid w-full grid-cols-4 md:w-[800px]",children:[(0,s.jsxs)(i.Xi,{value:"events",className:"gap-2",children:[(0,s.jsx)(U.A,{className:"h-4 w-4"}),"Events"]}),(0,s.jsxs)(i.Xi,{value:"venues",className:"gap-2",children:[(0,s.jsx)(Z.A,{className:"h-4 w-4"}),"Venues"]}),(0,s.jsxs)(i.Xi,{value:"reservations",className:"gap-2",children:[(0,s.jsx)(z.A,{className:"h-4 w-4"}),"Reservations"]}),(0,s.jsx)(i.Xi,{value:"news",children:"News"})]}),(0,s.jsxs)(i.av,{value:"events",className:"mt-6 space-y-6",children:[D?(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Edit Event"}),(0,s.jsx)(l.BT,{children:"Update event information"})]}),(0,s.jsx)(l.Wu,{className:"space-y-4",children:(0,s.jsxs)("form",{onSubmit:eo,className:"grid gap-4 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"title",children:"Event Title *"}),(0,s.jsx)(c.p,{id:"title",placeholder:"Enter event title",value:D.title,onChange:et,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"type",children:"Event Type *"}),(0,s.jsxs)(j.l6,{value:D.eventType,onValueChange:e=>es("eventType",e),children:[(0,s.jsx)(j.bq,{id:"type",children:(0,s.jsx)(j.yv,{placeholder:"Select type"})}),(0,s.jsxs)(j.gC,{children:[(0,s.jsx)(j.eb,{value:"performance",children:"Performance"}),(0,s.jsx)(j.eb,{value:"workshop",children:"Workshop"}),(0,s.jsx)(j.eb,{value:"discussion",children:"Discussion"})]})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"date",children:"Date *"}),(0,s.jsx)(c.p,{id:"date",type:"date",value:D.date,onChange:et,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"time",children:"Time *"}),(0,s.jsx)(c.p,{id:"time",type:"time",value:D.time,onChange:et,required:!0})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"venue",children:"Venue *"}),(0,s.jsxs)(j.l6,{value:D.venue,onValueChange:e=>es("venue",e),children:[(0,s.jsx)(j.bq,{id:"venue",children:(0,s.jsx)(j.yv,{placeholder:"Select venue"})}),(0,s.jsx)(j.gC,{children:S.map(e=>(0,s.jsx)(j.eb,{value:e.name,children:e.name},e.id))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"company",children:"Company/Presenter"}),(0,s.jsx)(c.p,{id:"company",placeholder:"Enter company or presenter name",value:D.company,onChange:et})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"description",children:"Description"}),(0,s.jsx)(u.T,{id:"description",placeholder:"Enter event description",rows:4,value:D.description,onChange:et})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"image",children:"Event Image"}),(0,s.jsx)(c.p,{id:"image",type:"file",onChange:en})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"price",children:"Ticket Price (€) *"}),(0,s.jsx)(c.p,{id:"price",type:"number",step:"0.01",min:"0",placeholder:"20.00",value:D.price,onChange:et,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"tags",children:"Tags (comma separated)"}),(0,s.jsx)(c.p,{id:"tags",placeholder:"drama, comedy, modern, classic",value:D?null===(e=D.tags)||void 0===e?void 0:e.join(", "):I.tags.join(", "),onChange:ei})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(V,{id:"featured",checked:D.isFeatured,onCheckedChange:er}),(0,s.jsx)(o.Label,{htmlFor:"featured",children:"Featured Event (displayed on homepage)"})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(d.$,{type:"submit",children:"Update Event"}),(0,s.jsx)(d.$,{type:"button",variant:"outline",onClick:()=>{A(null),L(null)},children:"Cancel"})]})]})})]}):(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Add New Event"}),(0,s.jsx)(l.BT,{children:"Create a new performance, workshop, or discussion"})]}),(0,s.jsx)(l.Wu,{className:"space-y-4",children:(0,s.jsxs)("form",{onSubmit:el,className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"title",children:"Event Title *"}),(0,s.jsx)(c.p,{id:"title",placeholder:"Enter event title",value:I.title,onChange:et,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"type",children:"Event Type *"}),(0,s.jsxs)(j.l6,{value:I.eventType,onValueChange:e=>es("eventType",e),children:[(0,s.jsx)(j.bq,{id:"type",children:(0,s.jsx)(j.yv,{placeholder:"Select type"})}),(0,s.jsxs)(j.gC,{children:[(0,s.jsx)(j.eb,{value:"performance",children:"Performance"}),(0,s.jsx)(j.eb,{value:"workshop",children:"Workshop"}),(0,s.jsx)(j.eb,{value:"discussion",children:"Discussion"})]})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"date",children:"Date *"}),(0,s.jsx)(c.p,{id:"date",type:"date",value:I.date,onChange:et,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"time",children:"Time *"}),(0,s.jsx)(c.p,{id:"time",type:"time",value:I.time,onChange:et,required:!0})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"venue",children:"Venue *"}),(0,s.jsxs)(j.l6,{value:I.venue,onValueChange:e=>es("venue",e),children:[(0,s.jsx)(j.bq,{id:"venue",children:(0,s.jsx)(j.yv,{placeholder:"Select venue"})}),(0,s.jsx)(j.gC,{children:S.map(e=>(0,s.jsx)(j.eb,{value:e.name,children:e.name},e.id))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"company",children:"Company/Presenter"}),(0,s.jsx)(c.p,{id:"company",placeholder:"Enter company or presenter name",value:I.company,onChange:et})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"description",children:"Description"}),(0,s.jsx)(u.T,{id:"description",placeholder:"Enter event description",rows:4,value:I.description,onChange:et})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"image",children:"Event Image"}),(0,s.jsx)(c.p,{id:"image",type:"file",onChange:en})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"price",children:"Ticket Price (€) *"}),(0,s.jsx)(c.p,{id:"price",type:"number",step:"0.01",min:"0",placeholder:"20.00",value:I.price,onChange:et,required:!0})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"tags",children:"Tags (comma separated)"}),(0,s.jsx)(c.p,{id:"tags",placeholder:"drama, comedy, modern, classic",onChange:ei})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(V,{id:"featured",checked:I.isFeatured,onCheckedChange:er}),(0,s.jsx)(o.Label,{htmlFor:"featured",children:"Featured Event (displayed on homepage)"})]}),(0,s.jsx)(d.$,{type:"submit",disabled:Y,children:Y?"Adding Event...":"Add Event"})]})})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Manage Events"}),(0,s.jsx)(l.BT,{children:"Edit or delete existing events"})]}),(0,s.jsx)(l.Wu,{children:k.length>0?(0,s.jsxs)("div",{className:"rounded-md border",children:[(0,s.jsxs)("div",{className:"grid grid-cols-9 border-b bg-muted/50 p-3 font-medium",children:[(0,s.jsx)("div",{className:"col-span-2",children:"Title"}),(0,s.jsx)("div",{children:"Type"}),(0,s.jsx)("div",{children:"Date"}),(0,s.jsx)("div",{children:"Venue"}),(0,s.jsx)("div",{children:"Price (BGN)"}),(0,s.jsx)("div",{children:"Tags"}),(0,s.jsx)("div",{children:"Featured"}),(0,s.jsx)("div",{children:"Actions"})]}),k.map(e=>{var a;return(0,s.jsxs)("div",{className:"grid grid-cols-9 border-b p-3",children:[(0,s.jsx)("div",{className:"col-span-2 font-medium",children:e.title}),(0,s.jsx)("div",{className:"capitalize",children:e.eventType}),(0,s.jsx)("div",{children:e.date}),(0,s.jsx)("div",{children:e.venue}),(0,s.jsx)("div",{children:e.price?"".concat((1.96*Number.parseFloat(e.price)).toFixed(2)," лв."):"Free"}),(0,s.jsx)("div",{className:"truncate",children:(null===(a=e.tags)||void 0===a?void 0:a.join(", "))||"None"}),(0,s.jsx)("div",{children:e.isFeatured?"Yes":"No"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsxs)(d.$,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",onClick:()=>ec(e.id),children:[(0,s.jsx)(O,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Edit"})]}),(0,s.jsxs)(d.$,{variant:"destructive",size:"sm",className:"h-8 w-8 p-0",onClick:()=>eu(e.id),children:[(0,s.jsx)(W,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Delete"})]})]})]},e.id)})]}):(0,s.jsx)("p",{className:"text-center text-muted-foreground",children:"No events have been added yet. Use the form above to create events."})})]})]}),(0,s.jsxs)(i.av,{value:"venues",className:"mt-6 space-y-6",children:[(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Add New Venue"}),(0,s.jsx)(l.BT,{children:"Create a new venue for events"})]}),(0,s.jsxs)(l.Wu,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"venue-name",children:"Venue Name"}),(0,s.jsx)(c.p,{id:"venue-name",placeholder:"Enter venue name",value:P.name,onChange:e=>_({...P,name:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"venue-location",children:"Location"}),(0,s.jsx)(c.p,{id:"venue-location",placeholder:"Enter venue location",value:P.location,onChange:e=>_({...P,location:e.target.value})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"venue-capacity",children:"Capacity"}),(0,s.jsx)(c.p,{id:"venue-capacity",type:"number",placeholder:"Enter venue capacity",value:P.capacity,onChange:e=>_({...P,capacity:parseInt(e.target.value)||0})})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"venue-rows",children:"Number of Rows"}),(0,s.jsx)(c.p,{id:"venue-rows",type:"number",placeholder:"Enter number of rows",value:P.rowCount,onChange:e=>{let a=Number.parseInt(e.target.value)||1;if(!(a<1)){if(F){let e=[...F.rows];if(a>e.length){let t=Array.from({length:a-e.length},(a,t)=>({rowNumber:e.length+t+1,seatCount:10}));L({...F,rows:[...e,...t]})}else a<e.length&&L({...F,rows:e.slice(0,a)})}else if(_(e=>({...e,rowCount:a})),a>J.length){let e=Array.from({length:a-J.length},(e,a)=>({rowNumber:J.length+a+1,seatCount:10}));K([...J,...e])}else a<J.length&&K(J.slice(0,a))}}})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(o.Label,{htmlFor:"venue-seats-per-row",children:"Seats Per Row"}),(0,s.jsx)(c.p,{id:"venue-seats-per-row",type:"number",placeholder:"Enter seats per row",value:P.seatsPerRow,onChange:e=>{let a=parseInt(e.target.value)||0;_({...P,seatsPerRow:a}),K(e=>e.map(e=>({...e,seatCount:a})))}})]}),(0,s.jsx)(d.$,{onClick:ed,children:"Add Venue"})]})]}),(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Manage Venues"}),(0,s.jsx)(l.BT,{children:"Edit or delete existing venues"})]}),(0,s.jsx)(l.Wu,{children:(0,s.jsxs)(h,{children:[(0,s.jsx)(p,{children:(0,s.jsxs)(v,{children:[(0,s.jsx)(f,{children:"Name"}),(0,s.jsx)(f,{children:"Location"}),(0,s.jsx)(f,{children:"Capacity"}),(0,s.jsx)(f,{children:"Actions"})]})}),(0,s.jsx)(x,{children:S.map(e=>(0,s.jsxs)(v,{children:[(0,s.jsx)(g,{children:e.name}),(0,s.jsx)(g,{children:e.location}),(0,s.jsx)(g,{children:e.capacity}),(0,s.jsxs)(g,{children:[(0,s.jsx)(d.$,{variant:"outline",size:"sm",className:"mr-2",children:"Edit"}),(0,s.jsx)(d.$,{variant:"destructive",size:"sm",children:"Delete"})]})]},e.id))})]})})]})]}),(0,s.jsx)(i.av,{value:"reservations",className:"mt-6 space-y-6",children:(0,s.jsxs)(l.Zp,{children:[(0,s.jsxs)(l.aR,{children:[(0,s.jsx)(l.ZB,{children:"Manage Reservations"}),(0,s.jsx)(l.BT,{children:"View and manage ticket reservations"})]}),(0,s.jsx)(l.Wu,{children:(0,s.jsx)("p",{className:"text-center text-muted-foreground",children:"Reservation management table would be displayed here with options to view, confirm, or cancel reservations."})})]})}),(0,s.jsx)(i.av,{value:"news",children:(0,s.jsxs)(l.Zp,{children:[(0,s.jsx)(l.aR,{children:(0,s.jsx)(l.ZB,{children:"News Management"})}),(0,s.jsx)(l.Wu,{})]})})]})]}):(0,s.jsx)("div",{className:"container flex min-h-[calc(100vh-4rem)] items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,s.jsx)(q,{className:"mb-4 h-16 w-16 text-red-500"}),(0,s.jsx)("h1",{className:"mb-2 text-2xl font-bold text-secondary-blue",children:"Access Denied"}),(0,s.jsx)("p",{className:"mb-6 max-w-md text-muted-foreground",children:"You don't have permission to access the admin panel. Please log in with an administrator account."}),(0,s.jsx)(d.$,{onClick:()=>a.push("/auth/login"),children:"Go to Login"})]})})}},5904:(e,a,t)=>{"use strict";t.d(a,{bq:()=>m,eb:()=>v,gC:()=>x,l6:()=>o,yv:()=>u});var s=t(8081),r=t(2149),n=t(7493),i=t(392),l=t(6801),d=t(6722),c=t(7687);let o=n.bL;n.YJ;let u=n.WT,m=r.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(n.l9,{ref:a,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,s.jsx)(n.In,{asChild:!0,children:(0,s.jsx)(i.A,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=n.l9.displayName;let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.PP,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(l.A,{className:"h-4 w-4"})})});h.displayName=n.PP.displayName;let p=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.wn,{ref:a,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})});p.displayName=n.wn.displayName;let x=r.forwardRef((e,a)=>{let{className:t,children:r,position:i="popper",...l}=e;return(0,s.jsx)(n.ZL,{children:(0,s.jsxs)(n.UC,{ref:a,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:i,...l,children:[(0,s.jsx)(h,{}),(0,s.jsx)(n.LM,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(p,{})]})})});x.displayName=n.UC.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.JU,{ref:a,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=n.JU.displayName;let v=r.forwardRef((e,a)=>{let{className:t,children:r,...i}=e;return(0,s.jsxs)(n.q7,{ref:a,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(n.VF,{children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),(0,s.jsx)(n.p4,{children:r})]})});v.displayName=n.q7.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(n.wv,{ref:a,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=n.wv.displayName},6493:(e,a,t)=>{Promise.resolve().then(t.bind(t,5847))},6810:(e,a,t)=>{"use strict";t.d(a,{BT:()=>c,Wu:()=>o,ZB:()=>d,Zp:()=>i,aR:()=>l,wL:()=>u});var s=t(8081),r=t(2149),n=t(7687);let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});i.displayName="Card";let l=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",t),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});d.displayName="CardTitle";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});c.displayName="CardDescription";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("p-6 pt-0",t),...r})});o.displayName="CardContent";let u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,n.cn)("flex items-center p-6 pt-0",t),...r})});u.displayName="CardFooter"},8539:(e,a,t)=>{"use strict";t.d(a,{V:()=>s,ds:()=>r});class s{static getInstance(){return s.instance||(s.instance=new s),s.instance}initializeDatabase(){if(!localStorage.getItem(this.storageKey)){let e={events:[],venues:[{id:"venue-1",name:"Main Stage",description:"Main performance venue with regular and balcony seating",rows:Array.from({length:16},(e,a)=>({rowNumber:a+1,seatCount:6===a?0:20+Math.floor(10*Math.random())}))},{id:"venue-2",name:"Chamber Stage",description:"Intimate performance space for smaller productions",rows:[{rowNumber:1,seatCount:12},{rowNumber:2,seatCount:13},{rowNumber:3,seatCount:14},{rowNumber:4,seatCount:13},{rowNumber:5,seatCount:13},{rowNumber:6,seatCount:13},{rowNumber:7,seatCount:9},{rowNumber:8,seatCount:9}]}],bookings:[],users:[{id:"anastasia-admin",email:"anastasia@actingeurope.eu",password:"ActingEurope2025!",role:"super_admin",emailVerified:!0},{id:"toni-admin",email:"toni@actingeurope.eu",password:"ActingEurope2025!",role:"super_admin",emailVerified:!0}],news:[]};this.saveData(e)}}getData(){let e=localStorage.getItem(this.storageKey);if(e)try{return JSON.parse(e)}catch(e){console.error("Error parsing database data:",e)}return{events:[],venues:[],bookings:[],users:[],news:[]}}saveData(e){try{localStorage.setItem(this.storageKey,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("databaseUpdated",{detail:e}))}catch(e){console.error("Error saving database data:",e)}}getEvents(){return this.getData().events}addEvent(e){let a=this.getData();a.events.push(e),this.saveData(a)}updateEvent(e,a){let t=this.getData(),s=t.events.findIndex(a=>a.id===e);-1!==s&&(t.events[s]=a,this.saveData(t))}deleteEvent(e){let a=this.getData();a.events=a.events.filter(a=>a.id!==e),this.saveData(a)}getVenues(){return this.getData().venues}addVenue(e){let a=this.getData();a.venues.push(e),this.saveData(a)}updateVenue(e,a){let t=this.getData(),s=t.venues.findIndex(a=>a.id===e);-1!==s&&(t.venues[s]=a,this.saveData(t))}deleteVenue(e){let a=this.getData();a.venues=a.venues.filter(a=>a.id!==e),this.saveData(a)}getBookings(){return this.getData().bookings}addBooking(e){let a=this.getData();a.bookings.push(e),this.saveData(a)}getUsers(){return this.getData().users}addUser(e){let a=this.getData();a.users.push(e),this.saveData(a)}getNews(){return this.getData().news}addNews(e){let a=this.getData();a.news.push(e),this.saveData(a)}clearAllData(){localStorage.removeItem(this.storageKey),this.initializeDatabase(),console.log("All database data cleared and reinitialized.")}updateUser(e){let a=this.getData(),t=a.users.findIndex(a=>a.id===e.id);-1!==t&&(a.users[t]=e,this.saveData(a))}constructor(){this.storageKey="actingEurope_database",this.initializeDatabase()}}let r=s.getInstance()},8830:(e,a,t)=>{"use strict";t.d(a,{A:()=>s});let s=(0,t(1018).A)("Ticket",[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]])},9651:(e,a,t)=>{"use strict";var s=t(4571);t.o(s,"usePathname")&&t.d(a,{usePathname:function(){return s.usePathname}}),t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})}},e=>{var a=a=>e(e.s=a);e.O(0,[687,150,582,317,583,309,497,954,358],()=>a(6493)),_N_E=e.O()}]);