(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[512],{466:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>j});var a=s(8081),r=s(2149),i=s(5186),n=s(5516),l=s(5160),d=s(6810),o=s(900),c=s(588),m=s(4604),u=s(5844),f=s(452),x=s(8539),h=s(3688);function p(e){let{venueId:t,onSeatsSelected:s,isUserAdmin:i=!1}=e,{toast:n}=(0,u.dj)(),{t:d}=(0,f.o)(),[o,c]=(0,r.useState)([]),[p,g]=(0,r.useState)(null),[v,b]=(0,r.useState)(!0);(0,h.qc)(),(0,h.wR)(),(0,r.useEffect)(()=>{(async()=>{try{let e=await x.ds.getVenues(),s=e.find(e=>e.id===t.toString()||e.name===t);s?g(s):g(e[0]||null)}catch(e){console.error("Error loading venue:",e)}finally{b(!1)}})();let e=async e=>{let s=e.detail;g((await s.getVenues()).find(e=>e.id===t.toString()||e.name===t)||null)};return window.addEventListener("databaseUpdated",e),()=>{window.removeEventListener("databaseUpdated",e)}},[t]);let j=e=>{if(o.includes(e))c(o.filter(t=>t!==e));else{if(!i&&o.length>=5){n({title:d("maxSeatsReached"),description:d("maxSeatsReachedDesc"),variant:"destructive"});return}c([...o,e])}},N=(e,t)=>{if(!i)return;let[s,a]=e.split("-").map(Number);n({title:t?"Seat Released":"Seat Reserved",description:"Seat ".concat(e," has been ").concat(t?"made available":"reserved for sponsors")})},w=e=>(0,a.jsx)("div",{className:"space-y-2",children:e.map(e=>{if(0===e.seatCount)return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mr-2 w-6 text-center font-medium",children:e.rowNumber}),(0,a.jsx)("div",{className:"flex flex-1 justify-center",children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground italic",children:"No seats in this row"})})]},e.rowNumber);let t=Array.from({length:e.seatCount},(t,s)=>({rowNumber:e.rowNumber,seatNumber:s+1,isAvailable:Math.random()>.1}));return(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mr-2 w-6 text-center font-medium",children:e.rowNumber}),(0,a.jsx)("div",{className:"flex flex-1 justify-center gap-1",children:t.map(e=>{let t="".concat(e.rowNumber,"-").concat(e.seatNumber),s=o.includes(t),r=!e.isAvailable;return(0,a.jsx)("button",{className:"h-7 w-7 rounded-t-md text-xs font-medium transition-colors ".concat(r?"cursor-not-allowed bg-gray-200 text-gray-400":s?"bg-primary-gold text-white":"bg-muted hover:bg-primary-gold/30"),onClick:e=>{i&&"contextmenu"===e.type?(e.preventDefault(),N(t,r)):r||j(t)},onContextMenu:e=>{i&&(e.preventDefault(),N(t,r))},disabled:r&&!i,"aria-label":"".concat(d("seat")," ").concat(t),children:e.seatNumber},t)})})]},e.rowNumber)})});if(v)return(0,a.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary-gold border-t-transparent mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading seating chart..."})]})});if(!p)return(0,a.jsx)("div",{className:"text-center p-8",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Venue not found"})});let y=[{id:"1",name:"Main Stage"===p.name?d("regularSeating"):d("mainSeating"),type:"regular",rows:p.rows}];return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"mb-2 text-lg font-semibold text-secondary-blue",children:d("selectYourSeats")}),(0,a.jsx)("div",{className:"mb-2 text-sm font-medium",children:p.name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[d("selectedSeats"),": ",o.length>0?o.join(", "):d("none"),i&&(0,a.jsx)("span",{className:"ml-2 text-primary-gold",children:"(Admin: Unlimited seats)"})]})]}),(0,a.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,a.jsx)("div",{className:"mb-8 rounded-md bg-primary-gold/20 p-2 text-center text-sm font-medium text-secondary-blue",children:d("stage")}),y.length>1?(0,a.jsxs)(m.tU,{defaultValue:y[0].id.toString(),children:[(0,a.jsx)(m.j7,{className:"grid w-full grid-cols-2 mb-6",children:y.map(e=>(0,a.jsx)(m.Xi,{value:e.id.toString(),children:e.name},e.id))}),y.map(e=>(0,a.jsxs)(m.av,{value:e.id.toString(),children:[(0,a.jsx)("div",{className:"mb-4 text-center",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-secondary-blue",children:e.name})}),w(e.rows)]},e.id))]}):(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"mb-4 text-center",children:(0,a.jsx)("h3",{className:"text-lg font-medium text-secondary-blue",children:y[0].name})}),w(y[0].rows)]}),(0,a.jsxs)("div",{className:"mb-6 flex justify-center gap-4 text-xs mt-6",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mr-1 h-4 w-4 rounded-sm bg-muted"}),(0,a.jsx)("span",{children:d("available")})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mr-1 h-4 w-4 rounded-sm bg-primary-gold"}),(0,a.jsx)("span",{children:d("selected")})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)("div",{className:"mr-1 h-4 w-4 rounded-sm bg-gray-200"}),(0,a.jsx)("span",{children:d("unavailable")})]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(l.$,{onClick:()=>{if(0===o.length){n({title:d("noSeatsSelected"),description:d("pleaseSelectSeats"),variant:"destructive"});return}s(o)},children:d("confirmSelection")})})]}),i&&(0,a.jsxs)("div",{className:"mt-4 rounded-md bg-muted p-3 text-sm",children:[(0,a.jsx)("p",{className:"font-medium text-secondary-blue",children:"Admin Instructions:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Right-click on a seat to reserve it for sponsors (free of charge)."})]})]})}var g=s(3345);let v=(0,g.createServerReference)("4099f306510777eff5cdcf6a44ad22e054ee9d7e28",g.callServer,void 0,g.findSourceMapURL,"generateAndSendTicket");var b=s(2184);function j(){let{toast:e}=(0,u.dj)(),{t}=(0,f.o)(),[s,h]=(0,r.useState)(null),[g,j]=(0,r.useState)(1),[N,w]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:""}),[y,S]=(0,r.useState)([]),[k,D]=(0,r.useState)(!1),[E,C]=(0,r.useState)([]),[I,_]=(0,r.useState)([]),[R,A]=(0,r.useState)(!1),[T,M]=(0,r.useState)("");(0,r.useEffect)(()=>{let e=e=>{if(!e)return"Free";let t=Number.parseFloat(e.replace("€",""));return"".concat((1.96*t).toFixed(2)," лв.")},t=async t=>{let s=t.detail;C((await s.getEvents()).filter(e=>"performance"===e.type).map(t=>({id:t.id,title:t.title,company:t.company||"Acting Europe Festival",date:t.date,time:t.time,venue:t.venue,imageUrl:t.imageUrl||"/placeholder.svg?height=200&width=300",price:t.price?e(t.price):"Free",rawPrice:t.price}))),_(await s.getVenues())};return(async()=>{C((await x.ds.getEvents()).filter(e=>"performance"===e.type).map(t=>({id:t.id,title:t.title,company:t.company||"Acting Europe Festival",date:t.date,time:t.time,venue:t.venue,imageUrl:t.imageUrl||"/placeholder.svg?height=200&width=300",price:t.price?e(t.price):"Free",rawPrice:t.price}))),_(await x.ds.getVenues())})(),window.addEventListener("databaseUpdated",e=>{t(e)}),()=>{window.removeEventListener("databaseUpdated",e=>{t(e)})}},[]);let O=e=>{let{name:t,value:s}=e.target;w(e=>({...e,[t]:s}))},P=e=>{h(e),j(2)},U=async a=>{if(a.preventDefault(),A(!0),!N.firstName||!N.lastName||!N.email){e({title:t("missingInformation"),description:t("pleaseCompleteForm"),variant:"destructive"}),A(!1);return}try{let a=E.find(e=>e.id===s);if(!a)throw Error("Performance not found");let r={title:a.title,date:a.date,time:a.time,venue:a.venue,seats:y,customerName:"".concat(N.firstName," ").concat(N.lastName),email:N.email,phone:N.phone,price:a.rawPrice},i=await v(r);if(!i.success)throw Error(i.message||"Failed to generate ticket");M(i.bookingReference||"");let n={id:Date.now(),userId:1,eventId:a.id,performanceId:s,seats:y.map((e,t)=>({id:t+1,rowNumber:e.charCodeAt(0)-64,seatNumber:parseInt(e.substring(1)),isAvailable:!1})),customer:"".concat(N.firstName," ").concat(N.lastName),email:N.email,date:new Date().toISOString(),bookingReference:i.bookingReference||"",totalAmount:y.length*a.rawPrice,bookingStatus:"confirmed",event:{id:a.id,title:a.title,theatreId:0,venueId:0,eventType:"performance",eventDate:a.date,eventTime:a.time,description:"",price:a.rawPrice,theatre:{},venue:{}},bookingDate:new Date().toISOString()};x.ds.addBooking(n),j(4),D(!0),e({title:t("bookingConfirmed"),description:t("bookingConfirmedDesc")})}catch(t){console.error("Booking error:",t),e({title:"Booking Error",description:t instanceof Error?t.message:"Failed to complete booking",variant:"destructive"})}finally{A(!1)}},F=s?E.find(e=>e.id===s):null;return(0,a.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,a.jsx)("h1",{className:"mb-8 text-center text-4xl font-bold text-secondary-blue",children:t("bookTickets")}),(0,a.jsxs)(m.tU,{defaultValue:"performances",className:"mx-auto max-w-4xl",children:[(0,a.jsxs)(m.j7,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(m.Xi,{value:"performances",children:t("Performances")}),(0,a.jsx)(m.Xi,{value:"workshops",children:t("workshops")})]}),(0,a.jsx)(m.av,{value:"performances",children:(0,a.jsxs)("div",{className:"mb-8 rounded-lg bg-muted/30 p-4",children:[g>1&&F&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsxs)(l.$,{variant:"ghost",className:"mb-2",onClick:()=>j(Math.max(1,g-1)),children:["← ",t("back")]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-lg border bg-card p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"relative h-16 w-16 overflow-hidden rounded",children:(0,a.jsx)(i.default,{src:F.imageUrl||"/placeholder.svg",alt:F.title,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-semibold text-secondary-blue",children:F.title}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:[F.date," • ",F.time," •"," ",F.venue]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsx)("div",{className:"font-semibold text-secondary-blue",children:F.price}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:t("perTicket")})]})]})]}),1===g&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("h2",{className:"mb-4 text-xl font-semibold text-secondary-blue",children:t("availablePerformances")}),E.length>0?(0,a.jsx)("div",{className:"space-y-4",children:E.map(e=>(0,a.jsx)(d.Zp,{className:"overflow-hidden",children:(0,a.jsx)(d.Wu,{className:"p-0",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,a.jsx)("div",{className:"relative h-48 md:h-auto md:w-1/3",children:(0,a.jsx)(i.default,{src:e.imageUrl||"/placeholder.svg",alt:e.title,fill:!0,className:"object-cover"})}),(0,a.jsxs)("div",{className:"flex flex-1 flex-col justify-between p-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-1 text-lg font-semibold text-secondary-blue",children:e.title}),(0,a.jsx)("p",{className:"mb-2 text-sm text-muted-foreground",children:e.company}),(0,a.jsxs)("div",{className:"mb-4 space-y-1 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"h-4 w-4 text-primary-gold"}),(0,a.jsxs)("span",{children:[e.date," at ",e.time]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[t("venue"),":"]})," ",e.venue]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[t("price"),":"]})," ",e.price]})]})]}),(0,a.jsx)(l.$,{onClick:()=>P(e.id),children:t("bookTicket")})]})]})})},e.id))}):(0,a.jsxs)("div",{className:"rounded-lg border border-dashed p-8 text-center",children:[(0,a.jsx)("h3",{className:"mb-2 text-lg font-medium",children:t("noPerformancesYet")}),(0,a.jsx)("p",{className:"mb-4 text-muted-foreground",children:t("noPerformancesYetDesc")})]})]}),2===g&&F&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-semibold text-secondary-blue",children:t("selectSeats")}),(0,a.jsx)(p,{venueId:F.venueId,onSeatsSelected:e=>{S(e),j(3)}})]}),3===g&&F&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"mb-4 text-lg font-semibold text-secondary-blue",children:t("yourDetails")}),(0,a.jsxs)("form",{onSubmit:U,className:"space-y-6",children:[(0,a.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,a.jsx)("div",{className:"mb-2 font-medium",children:t("selectedSeats")}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:y.map(e=>(0,a.jsx)("div",{className:"rounded-md bg-primary-gold/20 px-2 py-1 text-sm font-medium text-secondary-blue",children:e},e))}),(0,a.jsxs)("div",{className:"mt-2 text-right text-sm",children:[(0,a.jsxs)("span",{className:"font-medium",children:[t("total"),":"]})," ","".concat((Number.parseFloat(F.rawPrice.replace("€",""))*y.length*1.96).toFixed(2)," лв.")]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(c.Label,{htmlFor:"firstName",children:[t("firstName")," *"]}),(0,a.jsx)(o.p,{id:"firstName",name:"firstName",value:N.firstName,onChange:O,required:!0})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(c.Label,{htmlFor:"lastName",children:[t("lastName")," *"]}),(0,a.jsx)(o.p,{id:"lastName",name:"lastName",value:N.lastName,onChange:O,required:!0})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(c.Label,{htmlFor:"email",children:[t("email")," *"]}),(0,a.jsx)(o.p,{id:"email",name:"email",type:"email",value:N.email,onChange:O,required:!0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your tickets will be sent to this email address"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)(c.Label,{htmlFor:"phone",children:[t("phone")," (",t("optional"),")"]}),(0,a.jsx)(o.p,{id:"phone",name:"phone",type:"tel",value:N.phone,onChange:O})]})]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(l.$,{type:"submit",disabled:R,children:R?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):t("completeBooking")})})]})]}),4===g&&k&&F&&(0,a.jsxs)("div",{className:"rounded-lg border bg-card p-6 text-center",children:[(0,a.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:(0,a.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h3",{className:"mb-2 text-xl font-semibold text-secondary-blue",children:t("bookingConfirmed")}),(0,a.jsx)("p",{className:"mb-4 text-muted-foreground",children:t("bookingConfirmationEmail")}),(0,a.jsxs)("div",{className:"mb-6 rounded-lg border bg-muted/30 p-4 text-left",children:[(0,a.jsx)("div",{className:"mb-2 font-medium",children:t("bookingDetails")}),(0,a.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[t("performance"),":"]})," ",F.title]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[t("date"),":"]})," ",F.date]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[t("time"),":"]})," ",F.time]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[t("venue"),":"]})," ",F.venue]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[t("seats"),":"]})," ",y.join(", ")]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("span",{className:"font-medium",children:[t("total"),":"]})," ","".concat((Number.parseFloat(F.rawPrice.replace("€",""))*y.length*1.96).toFixed(2)," лв.")]}),T&&(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Booking Reference:"})," ",T]})]})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,a.jsx)(l.$,{onClick:()=>{h(null),j(1),w({firstName:"",lastName:"",email:"",phone:""}),S([]),D(!1),M("")},children:t("bookAnotherTicket")}),(0,a.jsx)(l.$,{variant:"outline",children:t("downloadTicket")})]})]})]})}),(0,a.jsx)(m.av,{value:"workshops",children:(0,a.jsxs)("div",{className:"rounded-lg border p-6 text-center",children:[(0,a.jsx)("h3",{className:"mb-2 text-lg font-semibold text-secondary-blue",children:t("workshopsComingSoon")}),(0,a.jsx)("p",{className:"text-muted-foreground",children:t("workshopsComingSoonDesc")})]})})]})]})}},588:(e,t,s)=>{"use strict";s.d(t,{Label:()=>c});var a=s(8081),r=s(2149),i=s(9217),n=r.forwardRef((e,t)=>(0,a.jsx)(i.sG.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=s(3484),d=s(7687);let o=(0,l.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(n,{ref:t,className:(0,d.cn)(o(),s),...r})});c.displayName=n.displayName},900:(e,t,s)=>{"use strict";s.d(t,{p:()=>n});var a=s(8081),r=s(2149),i=s(7687);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});n.displayName="Input"},1779:(e,t,s)=>{Promise.resolve().then(s.bind(s,466))},2184:(e,t,s)=>{"use strict";s.d(t,{A:()=>a});let a=(0,s(1018).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},2945:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{default:function(){return d},getImageProps:function(){return l}});let a=s(4879),r=s(6916),i=s(2611),n=a._(s(149));function l(e){let{props:t}=(0,r.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,s]of Object.entries(t))void 0===s&&delete t[e];return{props:t}}let d=i.Image},3345:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{callServer:function(){return a.callServer},createServerReference:function(){return i},findSourceMapURL:function(){return r.findSourceMapURL}});let a=s(1258),r=s(6838),i=s(1989).createServerReference},3688:(e,t,s)=>{"use strict";function a(){return"true"===localStorage.getItem("actingEurope_auth")}function r(){let e=localStorage.getItem("actingEurope_userRole");return"admin"===e||"super_admin"===e}function i(e,t){localStorage.setItem("actingEurope_auth","true"),localStorage.setItem("actingEurope_userEmail",e),localStorage.setItem("actingEurope_userRole",t),window.dispatchEvent(new Event("user-logged-in"))}function n(){localStorage.removeItem("actingEurope_auth"),localStorage.removeItem("actingEurope_userEmail"),localStorage.removeItem("actingEurope_userRole"),window.dispatchEvent(new Event("user-logged-out"))}s.d(t,{Ee:()=>i,cy:()=>n,qc:()=>r,wR:()=>a})},3778:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useMergedRef",{enumerable:!0,get:function(){return r}});let a=s(2149);function r(e,t){let s=(0,a.useRef)(null),r=(0,a.useRef)(null);return(0,a.useCallback)(a=>{if(null===a){let e=s.current;e&&(s.current=null,e());let t=r.current;t&&(r.current=null,t())}else e&&(s.current=i(e,a)),t&&(r.current=i(t,a))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let s=e(t);return"function"==typeof s?s:()=>e(null)}}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},4604:(e,t,s)=>{"use strict";s.d(t,{Xi:()=>o,av:()=>c,j7:()=>d,tU:()=>l});var a=s(8081),r=s(2149),i=s(2044),n=s(7687);let l=i.bL,d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.B8,{ref:t,className:(0,n.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});d.displayName=i.B8.displayName;let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.l9,{ref:t,className:(0,n.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});o.displayName=i.l9.displayName;let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.UC,{ref:t,className:(0,n.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});c.displayName=i.UC.displayName},5186:(e,t,s)=>{"use strict";s.d(t,{default:()=>r.a});var a=s(2945),r=s.n(a)},5844:(e,t,s)=>{"use strict";s.d(t,{dj:()=>u});var a=s(2149);let r=0,i=new Map,n=e=>{if(i.has(e))return;let t=setTimeout(()=>{i.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);i.set(e,t)},l=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:s}=t;return s?n(s):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===s||void 0===s?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},d=[],o={toasts:[]};function c(e){o=l(o,e),d.forEach(e=>{e(o)})}function m(e){let{...t}=e,s=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:s});return c({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:e=>{e||a()}}}),{id:s,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:s}})}}function u(){let[e,t]=a.useState(o);return a.useEffect(()=>(d.push(t),()=>{let e=d.indexOf(t);e>-1&&d.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},6810:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>l,wL:()=>m});var a=s(8081),r=s(2149),i=s(7687);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});n.displayName="Card";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...r})});l.displayName="CardHeader";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});d.displayName="CardTitle";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...r})});c.displayName="CardContent";let m=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...r})});m.displayName="CardFooter"},8539:(e,t,s)=>{"use strict";s.d(t,{V:()=>a,ds:()=>r});class a{static getInstance(){return a.instance||(a.instance=new a),a.instance}initializeDatabase(){if(!localStorage.getItem(this.storageKey)){let e={events:[],venues:[{id:"venue-1",name:"Main Stage",description:"Main performance venue with regular and balcony seating",rows:Array.from({length:16},(e,t)=>({rowNumber:t+1,seatCount:6===t?0:20+Math.floor(10*Math.random())}))},{id:"venue-2",name:"Chamber Stage",description:"Intimate performance space for smaller productions",rows:[{rowNumber:1,seatCount:12},{rowNumber:2,seatCount:13},{rowNumber:3,seatCount:14},{rowNumber:4,seatCount:13},{rowNumber:5,seatCount:13},{rowNumber:6,seatCount:13},{rowNumber:7,seatCount:9},{rowNumber:8,seatCount:9}]}],bookings:[],users:[{id:"anastasia-admin",email:"anastasia@actingeurope.eu",password:"ActingEurope2025!",role:"super_admin",emailVerified:!0},{id:"toni-admin",email:"toni@actingeurope.eu",password:"ActingEurope2025!",role:"super_admin",emailVerified:!0}],news:[]};this.saveData(e)}}getData(){let e=localStorage.getItem(this.storageKey);if(e)try{return JSON.parse(e)}catch(e){console.error("Error parsing database data:",e)}return{events:[],venues:[],bookings:[],users:[],news:[]}}saveData(e){try{localStorage.setItem(this.storageKey,JSON.stringify(e)),window.dispatchEvent(new CustomEvent("databaseUpdated",{detail:e}))}catch(e){console.error("Error saving database data:",e)}}getEvents(){return this.getData().events}addEvent(e){let t=this.getData();t.events.push(e),this.saveData(t)}updateEvent(e,t){let s=this.getData(),a=s.events.findIndex(t=>t.id===e);-1!==a&&(s.events[a]=t,this.saveData(s))}deleteEvent(e){let t=this.getData();t.events=t.events.filter(t=>t.id!==e),this.saveData(t)}getVenues(){return this.getData().venues}addVenue(e){let t=this.getData();t.venues.push(e),this.saveData(t)}updateVenue(e,t){let s=this.getData(),a=s.venues.findIndex(t=>t.id===e);-1!==a&&(s.venues[a]=t,this.saveData(s))}deleteVenue(e){let t=this.getData();t.venues=t.venues.filter(t=>t.id!==e),this.saveData(t)}getBookings(){return this.getData().bookings}addBooking(e){let t=this.getData();t.bookings.push(e),this.saveData(t)}getUsers(){return this.getData().users}addUser(e){let t=this.getData();t.users.push(e),this.saveData(t)}getNews(){return this.getData().news}addNews(e){let t=this.getData();t.news.push(e),this.saveData(t)}clearAllData(){localStorage.removeItem(this.storageKey),this.initializeDatabase(),console.log("All database data cleared and reinitialized.")}updateUser(e){let t=this.getData(),s=t.users.findIndex(t=>t.id===e.id);-1!==s&&(t.users[s]=e,this.saveData(t))}constructor(){this.storageKey="actingEurope_database",this.initializeDatabase()}}let r=a.getInstance()}},e=>{var t=t=>e(e.s=t);e.O(0,[687,611,150,583,309,497,954,358],()=>t(1779)),_N_E=e.O()}]);