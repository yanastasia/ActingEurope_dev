(()=>{var e={};e.id=512,e.ids=[512],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14985:e=>{"use strict";e.exports=require("dns")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},26541:(e,s,t)=>{"use strict";t.r(s),t.d(s,{"401501901bae603c2edd499c2b09d1d54112fe3c4c":()=>o,"402b6850fa09fbc08b8a7ef6fb520c8f4a2a52c46e":()=>c,"40a42fbff2c555731c0b1f95b55062bae7f196b677":()=>d,"40b033e3c3074280f6a4d1112f67981e3c3216570a":()=>u,"40b0c917258612a34bc9892bdce2c239a40a06675a":()=>m});var r=t(1829);t(70129);let a={};async function i(e){return a[e]}async function n(e){delete a[e]}var l=t(95811);async function d(e){let s=Math.random().toString(36).substring(2)+Date.now().toString(36),t=new Date;return t.setHours(t.getHours()+24),a[s]={email:e,expires:t},s}async function c(e){let s=await i(e);return s?s.expires<new Date?(await n(e),{success:!1,message:"Token has expired"}):(await n(e),{success:!0,email:s.email}):{success:!1,message:"Invalid or expired token"}}async function o(e){let s=await d(e);return(await (0,l.kH)(e,s)).success?{success:!0}:{success:!1,message:"Failed to send verification email"}}async function m(e){let s=await c(e);return s.success?{success:!0,message:"Email verified successfully!"}:{success:!1,message:s.message}}async function u(e){try{let s=`AE-${Date.now().toString().slice(-6)}-${Math.floor(1e3*Math.random()).toString().padStart(3,"0")}`,t={...e,bookingReference:s};if(!(await (0,l.z9)(e.email,t)).success)return{success:!1,message:"Failed to send ticket email"};return function(e){try{let[s,t,r]=e.date.split("-").map(Number),[a,i]=e.time.split(":").map(Number),n=new Date(s,t-1,r,a,i),d=new Date(n.getTime()-72e5),c=new Date,o=d.getTime()-c.getTime();o>0?(setTimeout(()=>{(0,l.bg)(e.email,e).catch(e=>console.error("Failed to send reminder:",e))},o),console.log(`Reminder scheduled for ${d.toLocaleString()} (${o/1e3/60} minutes from now)`)):console.log("Event is less than 2 hours away, not scheduling reminder")}catch(e){console.error("Error scheduling reminder:",e)}}(e),{success:!0,bookingReference:s}}catch(e){return console.error("Error generating ticket:",e),{success:!1,message:"Failed to generate ticket"}}}(0,t(64297).D)([d,c,o,m,u]),(0,r.A)(d,"40a42fbff2c555731c0b1f95b55062bae7f196b677",null),(0,r.A)(c,"402b6850fa09fbc08b8a7ef6fb520c8f4a2a52c46e",null),(0,r.A)(o,"401501901bae603c2edd499c2b09d1d54112fe3c4c",null),(0,r.A)(m,"40b0c917258612a34bc9892bdce2c239a40a06675a",null),(0,r.A)(u,"40b033e3c3074280f6a4d1112f67981e3c3216570a",null)},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},43340:(e,s,t)=>{"use strict";t.d(s,{tU:()=>q,av:()=>$,j7:()=>E,Xi:()=>P});var r=t(45781),a=t(13072),i=t(31496),n=t(72792),l=t(63111),d=t(84291),c=t(48597),o=t(2245),m=t(96250),u=t(26537),x="Tabs",[h,p]=(0,n.A)(x,[l.RG]),f=(0,l.RG)(),[b,g]=h(x),v=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,onValueChange:i,defaultValue:n,orientation:l="horizontal",dir:d,activationMode:h="automatic",...p}=e,f=(0,o.jH)(d),[g,v]=(0,m.i)({prop:a,onChange:i,defaultProp:n??"",caller:x});return(0,r.jsx)(b,{scope:t,baseId:(0,u.B)(),value:g,onValueChange:v,orientation:l,dir:f,activationMode:h,children:(0,r.jsx)(c.sG.div,{dir:f,"data-orientation":l,...p,ref:s})})});v.displayName=x;var j="TabsList",N=a.forwardRef((e,s)=>{let{__scopeTabs:t,loop:a=!0,...i}=e,n=g(j,t),d=f(t);return(0,r.jsx)(l.bL,{asChild:!0,...d,orientation:n.orientation,dir:n.dir,loop:a,children:(0,r.jsx)(c.sG.div,{role:"tablist","aria-orientation":n.orientation,...i,ref:s})})});N.displayName=j;var y="TabsTrigger",w=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,disabled:n=!1,...d}=e,o=g(y,t),m=f(t),u=A(o.baseId,a),x=C(o.baseId,a),h=a===o.value;return(0,r.jsx)(l.q7,{asChild:!0,...m,focusable:!n,active:h,children:(0,r.jsx)(c.sG.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":x,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...d,ref:s,onMouseDown:(0,i.m)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(a)}),onKeyDown:(0,i.m)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(a)}),onFocus:(0,i.m)(e.onFocus,()=>{let e="manual"!==o.activationMode;h||n||!e||o.onValueChange(a)})})})});w.displayName=y;var k="TabsContent",S=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:i,forceMount:n,children:l,...o}=e,m=g(k,t),u=A(m.baseId,i),x=C(m.baseId,i),h=i===m.value,p=a.useRef(h);return a.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,r.jsx)(d.C,{present:n||h,children:({present:t})=>(0,r.jsx)(c.sG.div,{"data-state":h?"active":"inactive","data-orientation":m.orientation,role:"tabpanel","aria-labelledby":u,hidden:!t,id:x,tabIndex:0,...o,ref:s,style:{...e.style,animationDuration:p.current?"0s":void 0},children:t&&l})})});function A(e,s){return`${e}-trigger-${s}`}function C(e,s){return`${e}-content-${s}`}S.displayName=k;var D=t(77401);let q=v,E=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(N,{ref:t,className:(0,D.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));E.displayName=N.displayName;let P=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(w,{ref:t,className:(0,D.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));P.displayName=w.displayName;let $=a.forwardRef(({className:e,...s},t)=>(0,r.jsx)(S,{ref:t,className:(0,D.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));$.displayName=S.displayName},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},57075:e=>{"use strict";e.exports=require("node:stream")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{"use strict";e.exports=require("zlib")},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},81630:e=>{"use strict";e.exports=require("http")},83909:(e,s,t)=>{Promise.resolve().then(t.bind(t,95364))},84297:e=>{"use strict";e.exports=require("async_hooks")},88823:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(51129).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\ActingEurope\\\\ActingEurope_dev\\\\app\\\\tickets\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\ActingEurope\\ActingEurope_dev\\app\\tickets\\page.tsx","default")},89981:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c});var r=t(7025),a=t(18198),i=t(82576),n=t.n(i),l=t(45239),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);t.d(s,d);let c={children:["",{children:["tickets",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,88823)),"D:\\ActingEurope\\ActingEurope_dev\\app\\tickets\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,59650)),"D:\\ActingEurope\\ActingEurope_dev\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,4540,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,53117,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,6874,23)),"next/dist/client/components/unauthorized-error"]}]}.children,o=["D:\\ActingEurope\\ActingEurope_dev\\app\\tickets\\page.tsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/tickets/page",pathname:"/tickets",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},89989:(e,s,t)=>{Promise.resolve().then(t.bind(t,88823))},91645:e=>{"use strict";e.exports=require("net")},93476:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(22752).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},94735:e=>{"use strict";e.exports=require("events")},95364:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>j});var r=t(45781),a=t(13072),i=t(3704),n=t(93476),l=t(44238),d=t(14784),c=t(14132),o=t(43030),m=t(43340),u=t(73342),x=t(82662),h=t(10739),p=t(42184);function f({venueId:e,onSeatsSelected:s,isUserAdmin:t=!1}){let{toast:i}=(0,u.dj)(),{t:n}=(0,x.o)(),[d,c]=(0,a.useState)([]),[o,h]=(0,a.useState)(null),[f,b]=(0,a.useState)(!0);(0,p.qc)(),(0,p.wR)();let g=e=>{if(d.includes(e))c(d.filter(s=>s!==e));else{if(!t&&d.length>=5){i({title:n("maxSeatsReached"),description:n("maxSeatsReachedDesc"),variant:"destructive"});return}c([...d,e])}},v=(e,s)=>{if(!t)return;let[r,a]=e.split("-").map(Number);i({title:s?"Seat Released":"Seat Reserved",description:`Seat ${e} has been ${s?"made available":"reserved for sponsors"}`})},j=e=>(0,r.jsx)("div",{className:"space-y-2",children:e.map(e=>{if(0===e.seatCount)return(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"mr-2 w-6 text-center font-medium",children:e.rowNumber}),(0,r.jsx)("div",{className:"flex flex-1 justify-center",children:(0,r.jsx)("div",{className:"text-sm text-muted-foreground italic",children:"No seats in this row"})})]},e.rowNumber);let s=Array.from({length:e.seatCount},(s,t)=>({rowNumber:e.rowNumber,seatNumber:t+1,isAvailable:Math.random()>.1}));return(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"mr-2 w-6 text-center font-medium",children:e.rowNumber}),(0,r.jsx)("div",{className:"flex flex-1 justify-center gap-1",children:s.map(e=>{let s=`${e.rowNumber}-${e.seatNumber}`,a=d.includes(s),i=!e.isAvailable;return(0,r.jsx)("button",{className:`h-7 w-7 rounded-t-md text-xs font-medium transition-colors ${i?"cursor-not-allowed bg-gray-200 text-gray-400":a?"bg-primary-gold text-white":"bg-muted hover:bg-primary-gold/30"}`,onClick:e=>{t&&"contextmenu"===e.type?(e.preventDefault(),v(s,i)):i||g(s)},onContextMenu:e=>{t&&(e.preventDefault(),v(s,i))},disabled:i&&!t,"aria-label":`${n("seat")} ${s}`,children:e.seatNumber},s)})})]},e.rowNumber)})});if(f)return(0,r.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary-gold border-t-transparent mx-auto mb-2"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:"Loading seating chart..."})]})});if(!o)return(0,r.jsx)("div",{className:"text-center p-8",children:(0,r.jsx)("p",{className:"text-muted-foreground",children:"Venue not found"})});let N=[{id:"1",name:"Main Stage"===o.name?n("regularSeating"):n("mainSeating"),type:"regular",rows:o.rows}];return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"mb-2 text-lg font-semibold text-secondary-blue",children:n("selectYourSeats")}),(0,r.jsx)("div",{className:"mb-2 text-sm font-medium",children:o.name}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[n("selectedSeats"),": ",d.length>0?d.join(", "):n("none"),t&&(0,r.jsx)("span",{className:"ml-2 text-primary-gold",children:"(Admin: Unlimited seats)"})]})]}),(0,r.jsxs)("div",{className:"mx-auto max-w-4xl",children:[(0,r.jsx)("div",{className:"mb-8 rounded-md bg-primary-gold/20 p-2 text-center text-sm font-medium text-secondary-blue",children:n("stage")}),N.length>1?(0,r.jsxs)(m.tU,{defaultValue:N[0].id.toString(),children:[(0,r.jsx)(m.j7,{className:"grid w-full grid-cols-2 mb-6",children:N.map(e=>(0,r.jsx)(m.Xi,{value:e.id.toString(),children:e.name},e.id))}),N.map(e=>(0,r.jsxs)(m.av,{value:e.id.toString(),children:[(0,r.jsx)("div",{className:"mb-4 text-center",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-secondary-blue",children:e.name})}),j(e.rows)]},e.id))]}):(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mb-4 text-center",children:(0,r.jsx)("h3",{className:"text-lg font-medium text-secondary-blue",children:N[0].name})}),j(N[0].rows)]}),(0,r.jsxs)("div",{className:"mb-6 flex justify-center gap-4 text-xs mt-6",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"mr-1 h-4 w-4 rounded-sm bg-muted"}),(0,r.jsx)("span",{children:n("available")})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"mr-1 h-4 w-4 rounded-sm bg-primary-gold"}),(0,r.jsx)("span",{children:n("selected")})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"mr-1 h-4 w-4 rounded-sm bg-gray-200"}),(0,r.jsx)("span",{children:n("unavailable")})]})]}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(l.$,{onClick:()=>{if(0===d.length){i({title:n("noSeatsSelected"),description:n("pleaseSelectSeats"),variant:"destructive"});return}s(d)},children:n("confirmSelection")})})]}),t&&(0,r.jsxs)("div",{className:"mt-4 rounded-md bg-muted p-3 text-sm",children:[(0,r.jsx)("p",{className:"font-medium text-secondary-blue",children:"Admin Instructions:"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Right-click on a seat to reserve it for sponsors (free of charge)."})]})]})}var b=t(77001);let g=(0,b.createServerReference)("40b033e3c3074280f6a4d1112f67981e3c3216570a",b.callServer,void 0,b.findSourceMapURL,"generateAndSendTicket");var v=t(12710);function j(){let{toast:e}=(0,u.dj)(),{t:s}=(0,x.o)(),[t,p]=(0,a.useState)(null),[b,j]=(0,a.useState)(1),[N,y]=(0,a.useState)({firstName:"",lastName:"",email:"",phone:""}),[w,k]=(0,a.useState)([]),[S,A]=(0,a.useState)(!1),[C,D]=(0,a.useState)([]),[q,E]=(0,a.useState)([]),[P,$]=(0,a.useState)(!1),[R,_]=(0,a.useState)(""),F=e=>{let{name:s,value:t}=e.target;y(e=>({...e,[s]:t}))},I=e=>{p(e),j(2)},T=async r=>{if(r.preventDefault(),$(!0),!N.firstName||!N.lastName||!N.email){e({title:s("missingInformation"),description:s("pleaseCompleteForm"),variant:"destructive"}),$(!1);return}try{let r=C.find(e=>e.id===t);if(!r)throw Error("Performance not found");let a={title:r.title,date:r.date,time:r.time,venue:r.venue,seats:w,customerName:`${N.firstName} ${N.lastName}`,email:N.email,phone:N.phone,price:r.rawPrice},i=await g(a);if(!i.success)throw Error(i.message||"Failed to generate ticket");_(i.bookingReference||"");let n={id:Date.now(),userId:1,eventId:r.id,performanceId:t,seats:w.map((e,s)=>({id:s+1,rowNumber:e.charCodeAt(0)-64,seatNumber:parseInt(e.substring(1)),isAvailable:!1})),customer:`${N.firstName} ${N.lastName}`,email:N.email,date:new Date().toISOString(),bookingReference:i.bookingReference||"",totalAmount:w.length*r.rawPrice,bookingStatus:"confirmed",event:{id:r.id,title:r.title,theatreId:0,venueId:0,eventType:"performance",eventDate:r.date,eventTime:r.time,description:"",price:r.rawPrice,theatre:{},venue:{}},bookingDate:new Date().toISOString()};h.ds.addBooking(n),j(4),A(!0),e({title:s("bookingConfirmed"),description:s("bookingConfirmedDesc")})}catch(s){console.error("Booking error:",s),e({title:"Booking Error",description:s instanceof Error?s.message:"Failed to complete booking",variant:"destructive"})}finally{$(!1)}},M=t?C.find(e=>e.id===t):null;return(0,r.jsxs)("div",{className:"container mx-auto px-4 py-12",children:[(0,r.jsx)("h1",{className:"mb-8 text-center text-4xl font-bold text-secondary-blue",children:s("bookTickets")}),(0,r.jsxs)(m.tU,{defaultValue:"performances",className:"mx-auto max-w-4xl",children:[(0,r.jsxs)(m.j7,{className:"grid w-full grid-cols-2",children:[(0,r.jsx)(m.Xi,{value:"performances",children:s("Performances")}),(0,r.jsx)(m.Xi,{value:"workshops",children:s("workshops")})]}),(0,r.jsx)(m.av,{value:"performances",children:(0,r.jsxs)("div",{className:"mb-8 rounded-lg bg-muted/30 p-4",children:[b>1&&M&&(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)(l.$,{variant:"ghost",className:"mb-2",onClick:()=>j(Math.max(1,b-1)),children:["← ",s("back")]}),(0,r.jsxs)("div",{className:"flex items-center justify-between rounded-lg border bg-card p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"relative h-16 w-16 overflow-hidden rounded",children:(0,r.jsx)(i.default,{src:M.imageUrl||"/placeholder.svg",alt:M.title,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-secondary-blue",children:M.title}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[M.date," • ",M.time," •"," ",M.venue]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("div",{className:"font-semibold text-secondary-blue",children:M.price}),(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:s("perTicket")})]})]})]}),1===b&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("h2",{className:"mb-4 text-xl font-semibold text-secondary-blue",children:s("availablePerformances")}),C.length>0?(0,r.jsx)("div",{className:"space-y-4",children:C.map(e=>(0,r.jsx)(d.Zp,{className:"overflow-hidden",children:(0,r.jsx)(d.Wu,{className:"p-0",children:(0,r.jsxs)("div",{className:"flex flex-col md:flex-row",children:[(0,r.jsx)("div",{className:"relative h-48 md:h-auto md:w-1/3",children:(0,r.jsx)(i.default,{src:e.imageUrl||"/placeholder.svg",alt:e.title,fill:!0,className:"object-cover"})}),(0,r.jsxs)("div",{className:"flex flex-1 flex-col justify-between p-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mb-1 text-lg font-semibold text-secondary-blue",children:e.title}),(0,r.jsx)("p",{className:"mb-2 text-sm text-muted-foreground",children:e.company}),(0,r.jsxs)("div",{className:"mb-4 space-y-1 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(n.A,{className:"h-4 w-4 text-primary-gold"}),(0,r.jsxs)("span",{children:[e.date," at ",e.time]})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[s("venue"),":"]})," ",e.venue]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[s("price"),":"]})," ",e.price]})]})]}),(0,r.jsx)(l.$,{onClick:()=>I(e.id),children:s("bookTicket")})]})]})})},e.id))}):(0,r.jsxs)("div",{className:"rounded-lg border border-dashed p-8 text-center",children:[(0,r.jsx)("h3",{className:"mb-2 text-lg font-medium",children:s("noPerformancesYet")}),(0,r.jsx)("p",{className:"mb-4 text-muted-foreground",children:s("noPerformancesYetDesc")})]})]}),2===b&&M&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mb-4 text-lg font-semibold text-secondary-blue",children:s("selectSeats")}),(0,r.jsx)(f,{venueId:M.venueId,onSeatsSelected:e=>{k(e),j(3)}})]}),3===b&&M&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"mb-4 text-lg font-semibold text-secondary-blue",children:s("yourDetails")}),(0,r.jsxs)("form",{onSubmit:T,className:"space-y-6",children:[(0,r.jsxs)("div",{className:"rounded-lg border bg-card p-4",children:[(0,r.jsx)("div",{className:"mb-2 font-medium",children:s("selectedSeats")}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:w.map(e=>(0,r.jsx)("div",{className:"rounded-md bg-primary-gold/20 px-2 py-1 text-sm font-medium text-secondary-blue",children:e},e))}),(0,r.jsxs)("div",{className:"mt-2 text-right text-sm",children:[(0,r.jsxs)("span",{className:"font-medium",children:[s("total"),":"]})," ",`${(Number.parseFloat(M.rawPrice.replace("€",""))*w.length*1.96).toFixed(2)} лв.`]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(o.Label,{htmlFor:"firstName",children:[s("firstName")," *"]}),(0,r.jsx)(c.p,{id:"firstName",name:"firstName",value:N.firstName,onChange:F,required:!0})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(o.Label,{htmlFor:"lastName",children:[s("lastName")," *"]}),(0,r.jsx)(c.p,{id:"lastName",name:"lastName",value:N.lastName,onChange:F,required:!0})]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(o.Label,{htmlFor:"email",children:[s("email")," *"]}),(0,r.jsx)(c.p,{id:"email",name:"email",type:"email",value:N.email,onChange:F,required:!0}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Your tickets will be sent to this email address"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(o.Label,{htmlFor:"phone",children:[s("phone")," (",s("optional"),")"]}),(0,r.jsx)(c.p,{id:"phone",name:"phone",type:"tel",value:N.phone,onChange:F})]})]}),(0,r.jsx)("div",{className:"flex justify-end",children:(0,r.jsx)(l.$,{type:"submit",disabled:P,children:P?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):s("completeBooking")})})]})]}),4===b&&S&&M&&(0,r.jsxs)("div",{className:"rounded-lg border bg-card p-6 text-center",children:[(0,r.jsx)("div",{className:"mx-auto mb-4 flex h-12 w-12 items-center justify-center rounded-full bg-green-100",children:(0,r.jsx)("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,r.jsx)("h3",{className:"mb-2 text-xl font-semibold text-secondary-blue",children:s("bookingConfirmed")}),(0,r.jsx)("p",{className:"mb-4 text-muted-foreground",children:s("bookingConfirmationEmail")}),(0,r.jsxs)("div",{className:"mb-6 rounded-lg border bg-muted/30 p-4 text-left",children:[(0,r.jsx)("div",{className:"mb-2 font-medium",children:s("bookingDetails")}),(0,r.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[s("performance"),":"]})," ",M.title]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[s("date"),":"]})," ",M.date]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[s("time"),":"]})," ",M.time]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[s("venue"),":"]})," ",M.venue]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[s("seats"),":"]})," ",w.join(", ")]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("span",{className:"font-medium",children:[s("total"),":"]})," ",`${(Number.parseFloat(M.rawPrice.replace("€",""))*w.length*1.96).toFixed(2)} лв.`]}),R&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"font-medium",children:"Booking Reference:"})," ",R]})]})]}),(0,r.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,r.jsx)(l.$,{onClick:()=>{p(null),j(1),y({firstName:"",lastName:"",email:"",phone:""}),k([]),A(!1),_("")},children:s("bookAnotherTicket")}),(0,r.jsx)(l.$,{variant:"outline",children:s("downloadTicket")})]})]})]})}),(0,r.jsx)(m.av,{value:"workshops",children:(0,r.jsxs)("div",{className:"rounded-lg border p-6 text-center",children:[(0,r.jsx)("h3",{className:"mb-2 text-lg font-semibold text-secondary-blue",children:s("workshopsComingSoon")}),(0,r.jsx)("p",{className:"text-muted-foreground",children:s("workshopsComingSoonDesc")})]})})]})]})}}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[915,872,654,223,586,530],()=>t(89981));module.exports=r})();