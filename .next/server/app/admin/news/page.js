(()=>{var e={};e.id=720,e.ids=[720],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11688:(e,t,r)=>{Promise.resolve().then(r.bind(r,53719))},14132:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(45781),s=r(13072),i=r(77401);let n=s.forwardRef(({className:e,type:t,...r},s)=>(0,a.jsx)("input",{type:t,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...r}));n.displayName="Input"},14784:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>l,wL:()=>p});var a=r(45781),s=r(13072),i=r(77401);let n=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));n.displayName="Card";let l=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));l.displayName="CardHeader";let o=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));o.displayName="CardTitle";let d=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("text-sm text-muted-foreground",e),...t}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("p-6 pt-0",e),...t}));c.displayName="CardContent";let p=s.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));p.displayName="CardFooter"},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},24709:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,pages:()=>c,routeModule:()=>u,tree:()=>d});var a=r(7025),s=r(18198),i=r(82576),n=r.n(i),l=r(45239),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let d={children:["",{children:["admin",{children:["news",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,53719)),"D:\\ActingEurope\\ActingEurope_dev\\app\\admin\\news\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,59650)),"D:\\ActingEurope\\ActingEurope_dev\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,4540,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,53117,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,6874,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["D:\\ActingEurope\\ActingEurope_dev\\app\\admin\\news\\page.tsx"],p={require:r,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/admin/news/page",pathname:"/admin/news",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},53719:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(51129).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\ActingEurope\\\\ActingEurope_dev\\\\app\\\\admin\\\\news\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\ActingEurope\\ActingEurope_dev\\app\\admin\\news\\page.tsx","default")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},98153:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var a=r(45781),s=r(13072),i=r(42184),n=r(7439),l=r(44238),o=r(14132),d=r(14784);let c=()=>{let[e,t]=(0,s.useState)([]),[r,c]=(0,s.useState)(!1),[p,u]=(0,s.useState)(null),[x,m]=(0,s.useState)({title:"",excerpt:"",imageUrl:"",date:"",category:""}),f=(0,n.useRouter)();(0,s.useEffect)(()=>{(0,i.qc)()?(c(!0),h()):f.push("/")},[f]);let h=async()=>{try{let e=await fetch("/api/news");if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let r=await e.json();t(Array.isArray(r)?r:r.newsArticles||[])}catch(e){console.error("Failed to fetch news articles:",e)}},g=e=>{let{name:t,value:r}=e.target;m(e=>({...e,[t]:r}))},w=async()=>{if(x.title&&x.excerpt&&x.imageUrl&&x.date&&x.category)try{let e=await fetch("/api/news",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(x)});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);m({title:"",excerpt:"",imageUrl:"",date:"",category:""}),h()}catch(e){console.error("Failed to add news article:",e),alert("Failed to add news article.")}else alert("Please fill in all fields to add a news article.")},v=e=>{u(e),m(e)},y=async()=>{if(p&&x.title&&x.excerpt&&x.imageUrl&&x.date&&x.category)try{let e=await fetch("/api/news",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:p.id,...x})});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);u(null),m({title:"",excerpt:"",imageUrl:"",date:"",category:""}),h()}catch(e){console.error("Failed to update news article:",e),alert("Failed to update news article.")}else alert("Please fill in all fields to update the news article.")},j=async e=>{if(confirm("Are you sure you want to delete this news article?"))try{let t=await fetch("/api/news",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:e})});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);h()}catch(e){console.error("Failed to delete news article:",e),alert("Failed to delete news article.")}};return r?(0,a.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-6",children:"Admin News Management"}),(0,a.jsxs)(d.Zp,{className:"mb-8",children:[(0,a.jsx)(d.aR,{children:(0,a.jsx)(d.ZB,{children:p?"Edit News Article":"Add New News Article"})}),(0,a.jsx)(d.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(o.p,{name:"title",placeholder:"Title",value:x.title,onChange:g}),(0,a.jsx)(o.p,{name:"excerpt",placeholder:"Excerpt",value:x.excerpt,onChange:g}),(0,a.jsx)(o.p,{name:"imageUrl",placeholder:"Image URL",value:x.imageUrl,onChange:g}),(0,a.jsx)(o.p,{name:"date",type:"date",placeholder:"Date",value:x.date,onChange:g}),(0,a.jsx)(o.p,{name:"category",placeholder:"Category",value:x.category,onChange:g})]})}),(0,a.jsx)(d.wL,{children:p?(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(l.$,{onClick:y,children:"Update Article"}),(0,a.jsx)(l.$,{variant:"outline",onClick:()=>{u(null),m({title:"",excerpt:"",imageUrl:"",date:"",category:""})},children:"Cancel"})]}):(0,a.jsx)(l.$,{onClick:w,children:"Add Article"})})]}),(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Existing News Articles"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4",children:0===e.length?(0,a.jsx)("p",{children:"No news articles found."}):e.map(e=>(0,a.jsxs)(d.Zp,{children:[(0,a.jsxs)(d.Wu,{className:"pt-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold",children:e.title}),(0,a.jsxs)("p",{className:"text-gray-600 text-sm",children:[e.date," | ",e.category]}),(0,a.jsx)("p",{className:"mt-2",children:e.excerpt}),(0,a.jsx)("img",{src:e.imageUrl,alt:e.title,className:"mt-4 w-full h-48 object-cover rounded-md"})]}),(0,a.jsxs)(d.wL,{className:"flex justify-end space-x-2",children:[(0,a.jsx)(l.$,{variant:"outline",onClick:()=>v(e),children:"Edit"}),(0,a.jsx)(l.$,{variant:"destructive",onClick:()=>j(e.id),children:"Delete"})]})]},e.id))})]}):(0,a.jsx)("div",{className:"container mx-auto px-4 py-8",children:"Access Denied. You must be an administrator to view this page."})}},98536:(e,t,r)=>{Promise.resolve().then(r.bind(r,98153))}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[915,872,654,586],()=>r(24709));module.exports=a})();