(()=>{var e={};e.id=635,e.ids=[635],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4761:()=>{},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},39215:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>w,routeModule:()=>g,serverHooks:()=>h,workAsyncStorage:()=>p,workUnitAsyncStorage:()=>b});var a={};s.r(a),s.d(a,{DELETE:()=>f,GET:()=>d,POST:()=>u,PUT:()=>l});var n=s(44713),r=s(18198),i=s(84557),c=s(91651),o=s(61768);async function d(){try{let e=await (0,c.RJ)();return o.NextResponse.json(e)}catch(e){return console.error("Error fetching news articles:",e),o.NextResponse.json({message:"Error fetching news articles"},{status:500})}}async function u(e){try{let{title:t,excerpt:s,imageUrl:a,date:n,category:r}=await e.json();if(!t||!s||!a||!n||!r)return o.NextResponse.json({message:"Missing required fields"},{status:400});let i=await (0,c.Uf)(t,s,s,"Admin",n,r,a);return o.NextResponse.json(i,{status:201})}catch(e){return console.error("Error creating news article:",e),o.NextResponse.json({message:"Error creating news article"},{status:500})}}async function l(e){try{let{id:t,title:s,excerpt:a,imageUrl:n,date:r,category:i}=await e.json();if(!t||!s||!a||!n||!r||!i)return o.NextResponse.json({message:"Missing required fields"},{status:400});let d=await (0,c.$o)(t,{title:s,excerpt:a,imageUrl:n,date:r,category:i});if(!d)return o.NextResponse.json({message:"News article not found"},{status:404});return o.NextResponse.json(d)}catch(e){return console.error("Error updating news article:",e),o.NextResponse.json({message:"Error updating news article"},{status:500})}}async function f(e){try{let{id:t}=await e.json();if(!t)return o.NextResponse.json({message:"Missing article ID"},{status:400});if(!await (0,c.$b)(t))return o.NextResponse.json({message:"News article not found"},{status:404});return o.NextResponse.json({message:"News article deleted successfully"})}catch(e){return console.error("Error deleting news article:",e),o.NextResponse.json({message:"Error deleting news article"},{status:500})}}let g=new n.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/news/route",pathname:"/api/news",filename:"route",bundlePath:"app/api/news/route"},resolvedPagePath:"D:\\ActingEurope\\ActingEurope_dev\\ActingEurope_dev\\app\\api\\news\\route.ts",nextConfigOutput:"",userland:a}),{workAsyncStorage:p,workUnitAsyncStorage:b,serverHooks:h}=g;function w(){return(0,i.patchFetch)({workAsyncStorage:p,workUnitAsyncStorage:b})}},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},49692:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"005aa5f1737d83d6e9f88fe04d498fde3b2e1adf4b":()=>a.lo,"402f814af364afe50084bf9b21165a137130b555d1":()=>a.hG,"408e2b78905075ea7c6da576d3efe4ce3e8a292ff4":()=>a.ht,"60107e7f4dd5b027b141f787532378755f00940ecc":()=>a.v_,"7f0c2a20dbc7b6c4a619b5890a6e41efcab43d77c8":()=>a.Uf,"7f1c24daf38cb2151c0e835bab5f05dae081c817fc":()=>a.RJ,"7f2aaa2ba6bebc909c025c6cf9cd6b1622d4761c29":()=>a.$o,"7fb0a6407a0975390cee39c3e56131848650f040a1":()=>a.lf,"7fbe5b110a2067de610a40c664b654dd890e162efa":()=>a.kg,"7fef397480b45af943a71981aace980d42e21b152e":()=>a.$b});var a=s(91651)},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},68313:()=>{},91651:(e,t,s)=>{"use strict";s.d(t,{Uf:()=>f,lf:()=>b,kg:()=>o,$b:()=>p,hG:()=>u,RJ:()=>l,ht:()=>c,lo:()=>i,$o:()=>g,v_:()=>d});var a=s(51572);s(23680);class n{constructor(){this.storageKey="actingEurope_database",this.initializeDatabase()}static getInstance(){return n.instance||(n.instance=new n),n.instance}initializeDatabase(){}getData(){return{events:[],venues:[],bookings:[],users:[],news:[]}}saveData(e){}getEvents(){return this.getData().events}addEvent(e){let t=this.getData();t.events.push(e),this.saveData(t)}updateEvent(e,t){let s=this.getData(),a=s.events.findIndex(t=>t.id===e);-1!==a&&(s.events[a]=t,this.saveData(s))}deleteEvent(e){let t=this.getData();t.events=t.events.filter(t=>t.id!==e),this.saveData(t)}getVenues(){return this.getData().venues}addVenue(e){let t=this.getData();t.venues.push(e),this.saveData(t)}updateVenue(e,t){let s=this.getData(),a=s.venues.findIndex(t=>t.id===e);-1!==a&&(s.venues[a]=t,this.saveData(s))}deleteVenue(e){let t=this.getData();t.venues=t.venues.filter(t=>t.id!==e),this.saveData(t)}getBookings(){return this.getData().bookings}addBooking(e){let t=this.getData();t.bookings.push(e),this.saveData(t)}getUsers(){return this.getData().users}addUser(e){let t=this.getData();t.users.push(e),this.saveData(t)}getNews(){return this.getData().news}addNews(e){let t=this.getData();t.news.push(e),this.saveData(t)}clearAllData(){}updateUser(e){let t=this.getData(),s=t.users.findIndex(t=>t.id===e.id);-1!==s&&(t.users[s]=e,this.saveData(t))}}n.getInstance();var r=s(47608);async function i(){return n.getInstance().getUsers()}async function c(e){let t=n.getInstance();return(await t.getUsers()).find(t=>t.email===e)}let o=async(e,t,s)=>{let a=n.getInstance();if((await a.getUsers()).find(t=>t.email===e))throw Error("User with this email already exists.");let r={id:Date.now().toString(),email:e,password:t,role:s,createdAt:new Date().toISOString()};return a.addUser(r),r};async function d(e,t){let s=n.getInstance(),a=await s.getUsers(),r=a.findIndex(t=>t.id===e);if(-1===r)throw Error("User not found");return s.updateUser(e,{...a[r],role:t}),{...a[r],role:t}}async function u(e){return n.getInstance().deleteUser(e)}let l=async()=>n.getInstance().getNews(),f=async(e,t,s,a,r)=>{let i=n.getInstance(),c={id:Date.now().toString(),title:e,excerpt:t,imageUrl:s,date:a,category:r};return i.addNews(c),c},g=async(e,t)=>n.getInstance().updateNews(e,t),p=async e=>n.getInstance().deleteNews(e),b=async(e,t)=>{let s=n.getInstance();if((await s.getUsers()).find(e=>"super_admin"===e.role))throw Error("Super admin already exists.");let a={id:Date.now().toString(),email:e,password:t,role:"super_admin",createdAt:new Date().toISOString()};return s.addUser(a),a};(0,r.D)([i,c,o,d,u,l,f,g,p,b]),(0,a.A)(i,"005aa5f1737d83d6e9f88fe04d498fde3b2e1adf4b",null),(0,a.A)(c,"408e2b78905075ea7c6da576d3efe4ce3e8a292ff4",null),(0,a.A)(o,"7fbe5b110a2067de610a40c664b654dd890e162efa",null),(0,a.A)(d,"60107e7f4dd5b027b141f787532378755f00940ecc",null),(0,a.A)(u,"402f814af364afe50084bf9b21165a137130b555d1",null),(0,a.A)(l,"7f1c24daf38cb2151c0e835bab5f05dae081c817fc",null),(0,a.A)(f,"7f0c2a20dbc7b6c4a619b5890a6e41efcab43d77c8",null),(0,a.A)(g,"7f2aaa2ba6bebc909c025c6cf9cd6b1622d4761c29",null),(0,a.A)(p,"7fef397480b45af943a71981aace980d42e21b152e",null),(0,a.A)(b,"7fb0a6407a0975390cee39c3e56131848650f040a1",null)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[915,872,273,20],()=>s(39215));module.exports=a})();